@page "/Signin"
@inject NavigationManager Nav
@inject Database.dataBase db
@using Database;

<head>
    <style>
        body {
            background-color: #296648;
        }
        .inputs {
            color: #EBFFF4;
        }
    </style>
</head>
<div class="inputs">
    <input type="text" @bind="@username" id="Username" required title="This username already exists"/>
    <input type="password" @bind="@password" id="Password" required title="This password already exists"/>
    <button @onclick="@AddUser">Sign in</button>


</div>

@code{
    public static bool LogedIn = false;
    public static string username = "";
    public static string password = "";
    //method to create a new user
    public void AddUser()
    {
        Users U1 = new Users();
        U1.UserID = UserInt();
        U1.UserName = username;
        U1.Password = password;
        db.SaveItem(U1);
        LogedIn = true;
        Nav.NavigateTo("/");
    }
    int UserInt() {
    Random rand = new Random();
    return (int)rand.NextInt64((long)999);
    }
}